<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AERION FELL - Game Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Firebase SDKs 12.7.0 -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-analytics.js";
        import { 
            getAuth, 
            signInWithPopup, 
            GoogleAuthProvider, 
            FacebookAuthProvider, 
            onAuthStateChanged, 
            signOut 
        } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

        // CẤU HÌNH FIREBASE THẬT
        const firebaseConfig = {
            apiKey: "AIzaSyAq5CN0vAfx-dvX_59JEBeA-qAB--FEVRA",
            authDomain: "aerion-fell-studio.firebaseapp.com",
            projectId: "aerion-fell-studio",
            storageBucket: "aerion-fell-studio.firebasestorage.app",
            messagingSenderId: "102084719130",
            appId: "1:102084719130:web:ff6c236b4e98cf2bb297a3",
            measurementId: "G-LFX8T6DYMC"
        };

        // Khởi tạo
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);
        const googleProvider = new GoogleAuthProvider();
        const fbProvider = new FacebookAuthProvider();

        window.auth = auth;
        window.googleProvider = googleProvider;
        window.fbProvider = fbProvider;
        window.signInWithPopup = signInWithPopup;
        window.signOut = signOut;

        // Theo dõi trạng thái đăng nhập
        onAuthStateChanged(auth, (user) => {
            const loginBtn = document.getElementById('loginBtn');
            const userProfile = document.getElementById('userProfile');
            const userNameDisplay = document.getElementById('userNameDisplay');
            const userAvatar = document.getElementById('userAvatar');

            if (user) {
                loginBtn.classList.add('hidden');
                userProfile.classList.remove('hidden');
                userNameDisplay.innerText = user.displayName || user.email.split('@')[0];
                userAvatar.src = user.photoURL || `https://ui-avatars.com/api/?name=${user.displayName}&background=00a86b&color=fff`;
                toggleModal(false);
                showStatus(`Xác thực thành công, ${user.displayName}!`, 'success');
            } else {
                loginBtn.classList.remove('hidden');
                userProfile.classList.add('hidden');
            }
            lucide.createIcons();
        });
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Orbitron:wght@400;700;900&display=swap');
        
        /* --- HỆ THỐNG MÀU SẮC (CSS VARIABLES) --- */
        :root {
            --bg-primary: #0a0a0a;
            --text-primary: #ffffff;
            --text-secondary: #9ca3af;
            --navbar-bg: rgba(10, 10, 10, 0.4);
            --card-bg: rgba(255, 255, 255, 0.03);
            --border-color: rgba(255, 255, 255, 0.1);
            --jade: #00a86b;
            --news-bg: #ffffff;
            --news-text: #000000;
        }

        /* --- LIGHT MODE --- */
        body.light-mode {
            --bg-primary: #f8fafc;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --navbar-bg: rgba(255, 255, 255, 0.8);
            --card-bg: #ffffff;
            --border-color: rgba(0, 0, 0, 0.1);
            --news-bg: #f1f5f9;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.4s ease, color 0.4s ease;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .font-gaming { font-family: 'Orbitron', sans-serif; }

        .fixed-background {
            position: fixed;
            inset: 0; 
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }

        .fixed-background img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.35;
            filter: brightness(0.5) contrast(1.1);
            transition: opacity 0.4s ease, filter 0.4s ease;
        }

        body.light-mode .fixed-background img {
            opacity: 0.1;
            filter: brightness(1.2) grayscale(0.5);
        }

        .hero-gradient {
            background: linear-gradient(0deg, var(--bg-primary) 0%, transparent 50%, var(--bg-primary) 100%);
        }

        .logo-glow { filter: drop-shadow(0 0 10px rgba(0, 168, 107, 0.7)); }

        .studio-name-highlight {
            background: linear-gradient(to bottom, var(--text-primary) 30%, var(--jade) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(0, 168, 107, 0.4);
            letter-spacing: 0.15em;
        }

        .riot-button {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--jade);
            background: rgba(0, 168, 107, 0.05);
        }

        .riot-button:hover {
            box-shadow: 0 0 25px rgba(0, 168, 107, 0.5);
            background: var(--jade);
            color: white;
        }

        .active-link { color: var(--jade) !important; position: relative; }
        .active-link::after {
            content: '';
            position: absolute;
            bottom: -4px; left: 0; width: 100%; height: 2px;
            background: var(--jade);
            box-shadow: 0 0 10px var(--jade);
        }

        .fade-in { animation: fadeIn 0.8s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-primary); }
        ::-webkit-scrollbar-thumb { background: var(--jade); }

        .modal-backdrop {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            z-index: 100;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            box-shadow: 0 0 60px rgba(0, 168, 107, 0.2);
            width: 95%;
            max-width: 450px;
            border-radius: 8px;
            padding: 3rem 2.5rem;
            position: relative;
            transform: scale(0.95);
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .modal-active { display: flex; }

        .social-btn {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border-color);
            transition: all 0.3s;
            color: var(--text-primary);
        }

        .social-btn:hover { border-color: var(--jade); background: rgba(0, 168, 107, 0.05); }

        .input-group label {
            display: block; font-size: 10px; text-transform: uppercase;
            font-weight: bold; color: var(--text-secondary); margin-bottom: 8px;
        }

        .input-group input {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            width: 100%; padding: 0.85rem 1rem; border-radius: 4px;
            outline: none;
        }

        .input-group input:focus { border-color: var(--jade); }

        .auth-view { display: none; }
        .auth-view.active { display: block; }

        .avatar-frame {
            width: 38px; height: 38px;
            border-radius: 50%; overflow: hidden;
            border: 2px solid var(--jade);
            box-shadow: 0 0 15px rgba(0, 168, 107, 0.5);
        }

        #status-msg {
            display: none;
            position: fixed; top: 25px; right: 25px;
            background: var(--jade); color: white;
            padding: 1.25rem 2.5rem; border-radius: 4px;
            z-index: 150; font-weight: 800;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
        }
    </style>
</head>
<body>

    <!-- LỚP NỀN CỐ ĐỊNH -->
    <div class="fixed-background">
        <img src="images/background.jpg" alt="Background" class="animate-pulse">
        <div class="absolute inset-0 hero-gradient"></div>
    </div>

    <!-- Thông báo -->
    <div id="status-msg" class="flex items-center gap-3">
        <i data-lucide="shield-check"></i>
        <span id="status-text">Đang tải...</span>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="modal-backdrop">
        <div class="modal-content">
            <button onclick="toggleModal(false)" class="absolute top-6 right-6 text-gray-500 hover:text-red-500">
                <i data-lucide="x-circle"></i>
            </button>
            
            <div id="loginView" class="auth-view active">
                <div class="text-center mb-10">
                    <h2 class="font-gaming text-4xl font-black italic text-emerald-500 uppercase tracking-tighter">Sign In</h2>
                    <p class="text-[10px] text-gray-500 uppercase tracking-widest mt-3">Access Aerion Fell Studio</p>
                </div>
                
                <form onsubmit="handleDemoAuth(event, 'login')">
                    <div class="input-group mb-4">
                        <label>Email Address</label>
                        <input type="email" id="loginEmail" placeholder="name@example.com" required>
                    </div>
                    <div class="input-group mb-6">
                        <label>Password</label>
                        <input type="password" placeholder="••••••••" required>
                    </div>
                    <button type="submit" class="w-full bg-emerald-600 text-white py-4 font-gaming font-bold uppercase italic tracking-widest hover:bg-emerald-500 transition-all shadow-lg shadow-emerald-600/20">
                        Login
                    </button>
                </form>

                <div class="relative my-8 text-center">
                    <div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-700"></div></div>
                    <span class="relative px-4 text-[10px] text-gray-500 font-bold uppercase" style="background: var(--bg-primary)">Or Login With</span>
                </div>

                <div class="grid grid-cols-2 gap-4 mb-10">
                    <button onclick="handleSocialLogin('google')" class="social-btn flex items-center justify-center gap-3 py-4 rounded-sm">
                        <svg width="20" height="20" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 12-4.53z" fill="#EA4335"/></svg>
                        <span class="text-[10px] font-bold uppercase">Google</span>
                    </button>
                    <button onclick="handleSocialLogin('facebook')" class="social-btn flex items-center justify-center gap-3 py-4 rounded-sm">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="#1877F2"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                        <span class="text-[10px] font-bold uppercase">Facebook</span>
                    </button>
                </div>

                <div class="text-center">
                    <p class="text-[10px] text-gray-600 uppercase font-bold tracking-widest">New Architect? <button onclick="switchAuthView('register')" class="text-emerald-500 hover:underline">Create Account</button></p>
                </div>
            </div>

            <!-- REGISTER VIEW -->
            <div id="registerView" class="auth-view">
                <div class="text-center mb-10">
                    <h2 class="font-gaming text-4xl font-black italic text-emerald-500 tracking-tighter">Sign Up</h2>
                    <p class="text-[10px] text-gray-500 uppercase tracking-widest mt-3">Join the future of gaming</p>
                </div>
                
                <form onsubmit="handleDemoAuth(event, 'register')">
                    <div class="input-group mb-4">
                        <label>Full Name</label>
                        <input type="text" id="regName" placeholder="Nhập tên của bạn" required>
                    </div>
                    <div class="input-group mb-4">
                        <label>Email Address</label>
                        <input type="email" placeholder="example@email.com" required>
                    </div>
                    <div class="input-group mb-8">
                        <label>Password</label>
                        <input type="password" placeholder="Tối thiểu 6 ký tự" required minlength="6">
                    </div>
                    <button type="submit" class="w-full bg-emerald-600 text-white py-4 font-gaming font-bold uppercase italic tracking-widest hover:bg-emerald-500 transition-all">
                        Create Account
                    </button>
                </form>

                <div class="mt-8 text-center">
                    <p class="text-[10px] text-gray-600 uppercase font-bold tracking-widest">Already have an account? <button onclick="switchAuthView('login')" class="text-emerald-500 hover:underline">Log In</button></p>
                </div>
            </div>
        </div>
    </div>

    <!-- NAVBAR -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-500 py-5 px-6 md:px-12 flex justify-between items-center bg-[var(--navbar-bg)] backdrop-blur-xl border-b border-white/5">
        <div class="flex items-center gap-12">
            <a href="javascript:void(0)" onclick="navigateTo('home')" class="group flex items-center gap-4">
                <img src="images/logo.jpg" alt="Logo" class="h-11 w-auto object-contain logo-glow transition-transform group-hover:scale-110">
                <span class="font-gaming font-black text-2xl uppercase hidden md:block tracking-[0.2em] transition-all group-hover:text-emerald-400">AERION FELL</span>
            </a>
            
            <ul class="hidden lg:flex gap-10 text-[11px] font-bold uppercase tracking-[0.3em] text-gray-400">
                <li><a href="javascript:void(0)" onclick="navigateTo('home')" id="nav-home" class="nav-link hover:text-[var(--text-primary)] transition-colors italic">Home</a></li>
                <li><a href="javascript:void(0)" onclick="navigateTo('about')" id="nav-about" class="nav-link hover:text-[var(--text-primary)] transition-colors italic">About</a></li>
                <li><a href="javascript:void(0)" onclick="navigateTo('game')" id="nav-game" class="nav-link hover:text-[var(--text-primary)] transition-colors italic">Game</a></li>
                <li><a href="javascript:void(0)" onclick="navigateTo('news')" id="nav-news" class="nav-link hover:text-[var(--text-primary)] transition-colors italic">News</a></li>
            </ul>
        </div>

        <div class="flex items-center gap-6" id="nav-actions">
            <!-- THEME TOGGLE BUTTON -->
            <button onclick="toggleTheme()" id="theme-btn" class="p-2.5 rounded-full bg-white/5 border border-white/10 hover:border-emerald-500 transition-all text-emerald-500">
                <i data-lucide="moon" size="18" id="theme-icon"></i>
            </button>

            <button id="loginBtn" onclick="toggleModal(true)" class="bg-transparent border border-emerald-600/30 text-[var(--text-primary)] px-10 py-3 rounded-full font-bold text-[10px] uppercase tracking-[0.2em] hover:bg-emerald-600 hover:text-white transition-all duration-300 shadow-lg shadow-emerald-600/10">Login</button>
            
            <div id="userProfile" class="hidden flex items-center gap-5 group cursor-pointer relative">
                <div class="flex flex-col items-end">
                    <span id="userNameDisplay" class="text-[11px] font-bold text-emerald-500 uppercase tracking-widest italic leading-none">Commander</span>
                    <span class="text-[8px] text-gray-600 uppercase font-black mt-1 tracking-tighter">Verified Member</span>
                </div>
                <div class="avatar-frame">
                    <img id="userAvatar" src="" alt="Avatar" class="w-full h-full object-cover">
                </div>
                <div class="absolute top-full right-0 mt-4 bg-[var(--bg-primary)] border border-emerald-600/30 p-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all shadow-2xl">
                    <button onclick="handleLogout()" class="text-[10px] font-bold uppercase text-red-500 hover:text-white flex items-center gap-3 whitespace-nowrap p-3 transition-all">
                        <i data-lucide="log-out" size="14"></i> Sign Out
                    </button>
                </div>
            </div>
            <button id="menu-btn" class="lg:hidden text-[var(--text-primary)]"><i data-lucide="menu"></i></button>
        </div>
    </nav>

    <!-- CONTENT -->
    <main id="page-home" class="page-content fade-in">
        <section class="h-screen w-full flex items-center justify-center">
            <div class="text-center px-4 max-w-5xl">
                <div class="mb-6 opacity-90 font-gaming font-bold text-emerald-500 tracking-[0.6em] uppercase text-xs md:text-sm">Architects of Virtual Reality</div>
                <h1 class="font-gaming text-6xl md:text-9xl font-black italic uppercase tracking-tighter mb-8 studio-name-highlight leading-none">AERION FELL</h1>
                <div class="w-32 h-1 bg-emerald-600 mx-auto mb-10 shadow-[0_0_20px_#00a86b]"></div>
                <p class="text-xl text-[var(--text-secondary)] mb-14 max-w-3xl mx-auto italic">Kiến tạo những giấc mơ <span class="text-[var(--text-primary)] font-bold">xanh thẳm</span> trong lòng thực tại.</p>
                <button onclick="navigateTo('game')" class="riot-button text-[var(--text-primary)] px-16 py-6 font-gaming font-bold uppercase italic tracking-[0.3em] text-sm shadow-2xl">Explore Worlds</button>
            </div>
        </section>
    </main>

    <main id="page-about" class="page-content hidden fade-in pt-40 px-12">
        <div class="bg-[var(--card-bg)] backdrop-blur-xl p-12 border border-[var(--border-color)] rounded-lg shadow-2xl max-w-5xl mx-auto">
            <h2 class="font-gaming text-emerald-500 font-bold uppercase mb-4 text-sm tracking-[0.4em]">Our Mission</h2>
            <h3 class="font-gaming text-5xl font-black text-[var(--text-primary)] mb-10 italic">Sứ mệnh của chúng tôi</h3>
            <p class="text-[var(--text-secondary)] text-xl leading-relaxed font-light italic mb-8">Tại AERION FELL, chúng tôi tin rằng trò chơi điện tử là đỉnh cao của sự kết hợp giữa nghệ thuật và công nghệ. Với màu xanh ngọc bích làm biểu tượng, chúng tôi kiến tạo những giá trị không biên giới.</p>
        </div>
    </main>

    <main id="page-game" class="page-content hidden fade-in pt-40 px-12 pb-20">
        <h3 class="font-gaming text-5xl font-black italic mb-16 text-[var(--text-primary)] uppercase text-center">Portfolio</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-7xl mx-auto">
            <div class="group relative overflow-hidden aspect-video border border-emerald-600/20 rounded-sm bg-black">
                <img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&q=80&w=1200" class="w-full h-full object-cover">
                <div class="absolute bottom-0 p-10 text-white bg-gradient-to-t from-black to-transparent w-full">
                    <h4 class="font-gaming text-4xl italic">Project Emerald</h4>
                    <button class="text-emerald-500 font-gaming uppercase text-[10px] tracking-[0.3em] mt-4 flex items-center gap-2">View Project <i data-lucide="arrow-right" size="14"></i></button>
                </div>
            </div>
        </div>
    </main>

    <main id="page-news" class="page-content hidden fade-in pt-40 px-12 pb-20">
        <div class="max-w-5xl mx-auto bg-[var(--news-bg)] p-12 rounded-lg text-[var(--news-text)] shadow-2xl border border-[var(--border-color)]">
            <h3 class="font-gaming text-5xl font-black italic text-center mb-16 uppercase">Tin tức mới nhất</h3>
            <article class="flex flex-col lg:flex-row gap-12 items-center group border-b border-gray-200 pb-16">
                <div class="w-full lg:w-2/5 aspect-video overflow-hidden rounded-lg shadow-md">
                    <img src="images/dat.jpg" class="w-full h-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&q=80&w=600'">
                </div>
                <div class="w-full lg:w-3/5">
                    <span class="font-gaming text-emerald-600 font-bold text-xs uppercase tracking-widest">DevLog • Jan 2026</span>
                    <h4 class="font-gaming text-3xl font-black italic mt-4 mb-6 leading-tight group-hover:text-emerald-600 transition-colors">Cập nhật hệ thống Jade Engine</h4>
                    <p class="text-gray-600 text-lg font-light leading-relaxed italic">Nhà phát triển Đạt lỏ đã bị gái bắt cóc.</p>
                </div>
            </article>
        </div>
    </main>

    <footer class="bg-[#050505] py-24 px-6 md:px-12 border-t-2 border-emerald-600 shadow-[0_-10px_40px_rgba(0,168,107,0.15)] relative z-10 mt-auto">
        <div class="max-w-7xl mx-auto flex flex-col items-center">
            <div class="flex items-center gap-5 mb-10">
                <img src="images/logo.jpg" alt="Logo" class="h-12 w-auto object-contain logo-glow">
                <span class="font-gaming font-black text-4xl italic uppercase studio-name-highlight tracking-tighter leading-none">AERION FELL</span>
            </div>
            <div class="text-gray-700 text-[10px] font-black uppercase tracking-[0.5em]">
                © 2026 AERION FELL STUDIO • JADE TECHNOLOGY • BEYOND REALITY
            </div>
        </div>
    </footer>

    <script>
        // TOGGLE THEME LOGIC
        function toggleTheme() {
            const body = document.body;
            const icon = document.getElementById('theme-icon');
            body.classList.toggle('light-mode');
            
            if (body.classList.contains('light-mode')) {
                icon.setAttribute('data-lucide', 'sun');
                showStatus('Đã chuyển sang Chế độ Sáng!', 'success');
            } else {
                icon.setAttribute('data-lucide', 'moon');
                showStatus('Đã chuyển sang Chế độ Tối!', 'success');
            }
            lucide.createIcons();
        }

        function toggleModal(show) {
            const m = document.getElementById('authModal');
            if(show) m.classList.add('modal-active'); else m.classList.remove('modal-active');
        }

        function switchAuthView(view) {
            const l = document.getElementById('loginView'), r = document.getElementById('registerView');
            if(view==='register'){l.classList.remove('active');r.classList.add('active');}
            else {r.classList.remove('active');l.classList.add('active');}
        }

        async function handleSocialLogin(providerName) {
            try {
                const p = providerName === 'google' ? window.googleProvider : window.fbProvider;
                console.log(`Bắt đầu đăng nhập ${providerName}...`);
                await window.signInWithPopup(window.auth, p);
            } catch (e) { 
                console.error("Firebase Error:", e.code);
                let msg = `Lỗi: ${e.code}. Hãy nhấn F12 xem Console!`;
                if (e.code === 'auth/operation-not-allowed') {
                    msg = "Lỗi: Google chưa được 'Enable' trong Firebase Console!";
                } else if (e.code === 'auth/unauthorized-domain') {
                    msg = "Lỗi: Domain localhost chưa được thêm vào Authorized domains!";
                }
                showStatus(msg, 'error'); 
            }
        }

        async function handleLogout() {
            try { await window.signOut(window.auth); showStatus('Đã đăng xuất!', 'success'); } catch (e) { }
        }

        function handleDemoAuth(event, type) {
            event.preventDefault();
            const name = type === 'register' ? document.getElementById('regName').value : (document.getElementById('loginEmail').value.split('@')[0] || 'Commander');
            showStatus('Demo Mode: Thành công!', 'success');
            document.getElementById('loginBtn').classList.add('hidden');
            document.getElementById('userProfile').classList.remove('hidden');
            document.getElementById('userNameDisplay').innerText = name;
            document.getElementById('userAvatar').src = `https://ui-avatars.com/api/?name=${name}&background=00a86b&color=fff`;
            toggleModal(false);
            lucide.createIcons();
        }

        function showStatus(text, type) {
            const b = document.getElementById('status-msg');
            const t = document.getElementById('status-text');
            t.innerText = text;
            b.style.backgroundColor = type === 'success' ? '#00a86b' : '#ef4444';
            b.style.display = 'flex';
            setTimeout(() => { b.style.display = 'none'; }, 6000);
        }

        function navigateTo(id) {
            ['home', 'about', 'game', 'news'].forEach(p => {
                const el = document.getElementById('page-' + p);
                if(el) el.classList.add('hidden');
                const n = document.getElementById('nav-' + p);
                if(n) n.classList.remove('active-link');
            });
            const target = document.getElementById('page-' + id);
            if(target) target.classList.remove('hidden');
            const activeNav = document.getElementById('nav-' + id);
            if(activeNav) activeNav.classList.add('active-link');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            lucide.createIcons();
        }

        window.onscroll = () => {
            const n = document.getElementById('navbar');
            if (window.scrollY > 50) n.classList.add('py-3', 'bg-opacity-95');
            else n.classList.remove('py-3', 'bg-opacity-95');
        };
        
        window.onclick = (e) => { if (e.target == document.getElementById('authModal')) toggleModal(false); }
    </script>
</body>
</html>